<?xml version="1.0" encoding="UTF-8" ?>
<!--
OrchidPro Application Shell - Enterprise Navigation Architecture

UPDATED ARCHITECTURE:
- Reorganized navigation flow: Setup â†’ Botanical Data â†’ Plants
- Added Sources and Locations as foundational setup items
- Maintained professional structure with proper hierarchy
- Removed non-existent PNG icons to prevent runtime errors

NAVIGATION HIERARCHY (UPDATED):
1. Setup: Sources and Locations (foundational data)
2. Botanical Data: Complete taxonomic organization (Families â†’ Genera â†’ Species â†’ Variants)
3. My Plants: Personal collection management (future feature)

DESIGN PATTERNS:
- Shell.FlyoutHeader: Branded application identity with logo and description
- Shell.FlyoutFooter: User actions (logout) and application metadata
- FlyoutItem/Tab Structure: Logical grouping of related functionality
- ContentTemplate: Lazy loading for optimal performance and memory usage

PERFORMANCE OPTIMIZATIONS:
- DataTemplate lazy instantiation prevents unnecessary page creation
- Route-based navigation enables efficient deep linking
- Hierarchical organization reduces cognitive load and improves UX
- Only functional items enabled to maintain professional appearance

ENTERPRISE FEATURES:
- Dynamic version display for deployment tracking
- Branded logout functionality with security considerations
- Future-ready structure with disabled placeholder items
- Professional workflow organization
-->
<Shell
    x:Class="OrchidPro.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:OrchidPro"
    xmlns:botanical="clr-namespace:OrchidPro.Views.Pages.Botanical"
    xmlns:sources="clr-namespace:OrchidPro.Views.Pages.Sources"
    xmlns:locations="clr-namespace:OrchidPro.Views.Pages.Locations"
    Title="OrchidPro"
    FlyoutBehavior="Flyout">

    <!-- 
    BRANDED APPLICATION HEADER
    Professional identity presentation with consistent Primary theming.
    Provides visual application context and branding reinforcement.
    Uses VerticalStackLayout for optimal layout performance.
    -->
    <Shell.FlyoutHeader>
        <Grid BackgroundColor="{StaticResource Primary}" HeightRequest="150">
            <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                <!-- Application logo with standardized sizing -->
                <!-- Note: orchid_logo.png must exist in Resources/Images/ -->
                <Image Source="orchid_logo.png" 
                       HeightRequest="60" 
                       WidthRequest="60" />

                <!-- Primary application title with brand typography -->
                <Label Text="OrchidPro" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="{StaticResource OnPrimary}" 
                       HorizontalOptions="Center" />

                <!-- Descriptive subtitle with subtle opacity for hierarchy -->
                <Label Text="Botanical Management System" 
                       FontSize="12" 
                       TextColor="{StaticResource OnPrimary}" 
                       Opacity="0.8"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
        </Grid>
    </Shell.FlyoutHeader>

    <!-- 
    ENTERPRISE FOOTER SYSTEM
    Combines user actions, security controls, and application metadata.
    Implements logout functionality with visual hierarchy.
    Displays dynamic versioning for deployment tracking and support.
    -->
    <Shell.FlyoutFooter>
        <VerticalStackLayout BackgroundColor="{StaticResource Surface}" 
                             Padding="0" 
                             Spacing="0">

            <!-- Visual separator for content organization -->
            <BoxView HeightRequest="1" 
                     BackgroundColor="{StaticResource Gray200}"
                     Opacity="0.3" />

            <!-- 
            LOGOUT CONTROL SYSTEM
            Implements secure user session termination with visual feedback.
            Uses TapGestureRecognizer for consistent touch interaction.
            ErrorColor theming indicates destructive action nature.
            -->
            <Grid BackgroundColor="Transparent"
                  Padding="20,16"
                  ColumnDefinitions="Auto,*"
                  ColumnSpacing="16">

                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnLogoutClicked" />
                </Grid.GestureRecognizers>

                <!-- Emoji icon for universal recognition -->
                <Label Grid.Column="0"
                       Text="ðŸšª"
                       FontSize="18"
                       VerticalOptions="Center" />

                <!-- Logout action text with error color for destructive action indication -->
                <Label Grid.Column="1"
                       Text="Sign Out"
                       FontSize="16"
                       FontFamily="OpenSansRegular"
                       TextColor="{StaticResource ErrorColor}"
                       VerticalOptions="Center" />

            </Grid>

            <!-- Content separator for visual organization -->
            <BoxView HeightRequest="1" 
                     BackgroundColor="{StaticResource Gray200}"
                     Opacity="0.2" />

            <!-- 
            DYNAMIC APPLICATION METADATA DISPLAY
            Provides deployment tracking, version identification, and branding.
            Labels populated programmatically from AppSettings configuration.
            Hierarchical typography with decreasing emphasis for information priority.
            -->
            <VerticalStackLayout Spacing="4"
                                 HorizontalOptions="Center"
                                 Padding="20,12,20,16">

                <!-- Primary version information populated at runtime -->
                <Label x:Name="VersionLabel"
                       FontSize="11"
                       FontFamily="OpenSansRegular"
                       FontAttributes="Bold"
                       TextColor="{StaticResource Gray600}"
                       HorizontalOptions="Center" />

                <!-- Secondary build information for technical support -->
                <Label x:Name="BuildLabel"
                       FontSize="10"
                       FontFamily="OpenSansRegular"
                       TextColor="{StaticResource Gray500}"
                       HorizontalOptions="Center" />

                <!-- Brand messaging with emoji for emotional connection -->
                <Label Text="ðŸŒº Made with â™¥ for orchid lovers"
                       FontSize="9"
                       FontFamily="OpenSansRegular"
                       TextColor="{StaticResource Gray400}"
                       HorizontalOptions="Center"
                       Margin="0,4,0,0" />

            </VerticalStackLayout>

        </VerticalStackLayout>
    </Shell.FlyoutFooter>

    <!-- 
    PRIMARY NAVIGATION: DASHBOARD
    Application entry point providing overview and quick access functionality.
    Uses DataTemplate for lazy instantiation and optimal memory management.
    -->
    <FlyoutItem Title="Dashboard">
        <ShellContent Route="MainPage" ContentTemplate="{DataTemplate local:MainPage}" />
    </FlyoutItem>

    <!-- 
    SETUP SECTION - FOUNDATIONAL DATA
    Essential configuration items required before plant management.
    Sources and Locations are prerequisites for plant registration.
    Professional workflow: configure sources and locations first.
    -->
    <FlyoutItem Title="Setup">

        <!-- 
        SOURCES MANAGEMENT
        Plant acquisition sources and supplier information.
        Foundational data for tracking plant origins and purchases.
        Enables comprehensive source management and supplier relationships.
        -->
        <Tab Title="Sources">
            <ShellContent Title="Sources" 
                         Route="sources" 
                         ContentTemplate="{DataTemplate sources:SourcesListPage}" />
        </Tab>

        <!-- 
        LOCATIONS MANAGEMENT
        Physical locations and growing environments.
        Foundational data for plant placement and environmental tracking.
        Enables location-based organization and care management.
        -->
        <Tab Title="Locations">
            <ShellContent Title="Locations" 
                         Route="locations" 
                         ContentTemplate="{DataTemplate locations:LocationsListPage}" />
        </Tab>

    </FlyoutItem>

    <!-- 
    BOTANICAL DATA MANAGEMENT SECTION
    Core application functionality organized by taxonomic hierarchy.
    Implements Tab structure for related data entity management.
    Correct taxonomic order: Families â†’ Genera â†’ Species â†’ Variants
    -->
    <FlyoutItem Title="Botanical Data" Icon="leaf.svg">

        <!-- 
        FAMILIES MANAGEMENT TAB
        High-level taxonomic classification system.
        Foundational data structure for genus and species organization.
        Implements comprehensive CRUD operations with validation.
        -->
        <Tab Title="Families">
            <ShellContent Title="Families" 
                         Route="families" 
                         ContentTemplate="{DataTemplate botanical:FamiliesListPage}" />
        </Tab>

        <!-- 
        GENERA MANAGEMENT TAB  
        Plant genus classification and organizational structure.
        Intermediate taxonomic level between families and species.
        Enables hierarchical data relationships and validation.
        -->
        <Tab Title="Genera">
            <ShellContent Title="Genera" 
                         Route="genera" 
                         ContentTemplate="{DataTemplate botanical:GeneraListPage}" />
        </Tab>

        <!-- 
        SPECIES MANAGEMENT TAB
        Detailed plant species data entry and management.
        Most granular level of taxonomic classification.
        Primary user interaction point for botanical records.
        -->
        <Tab Title="Species">
            <ShellContent Title="Species" 
                         Route="species" 
                         ContentTemplate="{DataTemplate botanical:SpeciesListPage}" />
        </Tab>

        <!-- 
        VARIANTS MANAGEMENT TAB
        Independent plant variant classification system.
        Color patterns, forms, and variations applicable to any plant.
        Enables flexible variant categorization across all taxonomic levels.
        -->
        <Tab Title="Variants">
            <ShellContent Title="Variants" 
                         Route="variants" 
                         ContentTemplate="{DataTemplate botanical:VariantsListPage}" />
        </Tab>

    </FlyoutItem>

    <!-- 
    PERSONAL COLLECTION MANAGEMENT
    Individual plant tracking and care management.
    Disabled state prevents premature user access while maintaining navigation structure.
    Will be enabled after plants functionality is implemented.
    -->
    <FlyoutItem Title="My Plants" IsEnabled="False">
        <ShellContent Route="plants" />
    </FlyoutItem>

</Shell>