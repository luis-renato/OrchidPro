<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="OrchidPro.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:OrchidPro"
    xmlns:pages="clr-namespace:OrchidPro.Views.Pages"
    Title="OrchidPro"
    FlyoutBehavior="Flyout">

    <!-- CabeÃ§alho do menu -->
    <Shell.FlyoutHeader>
        <Grid BackgroundColor="{StaticResource Primary}" HeightRequest="150">
            <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                <Image Source="orchid_logo.png" 
                       HeightRequest="60" 
                       WidthRequest="60" />
                <Label Text="OrchidPro" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="{StaticResource OnPrimary}" 
                       HorizontalOptions="Center" />
                <Label Text="Botanical Management" 
                       FontSize="12" 
                       TextColor="{StaticResource OnPrimary}" 
                       Opacity="0.8"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
        </Grid>
    </Shell.FlyoutHeader>

    <!-- Main Navigation Items -->
    <FlyoutItem Title="Dashboard" Icon="home.png">
        <ShellContent Route="MainPage" ContentTemplate="{DataTemplate local:MainPage}" />
    </FlyoutItem>

    <!-- Botanical Management Section -->
    <FlyoutItem Title="Botanical Data" Icon="plant.png">
        <Tab Title="Families">
            <!-- âœ… CORRIGIDO: Usar FamiliesListPage como padrÃ£o -->
            <ShellContent Title="Families" 
                         Icon="family.png" 
                         Route="families" 
                         ContentTemplate="{DataTemplate pages:FamiliesListPage}" />
        </Tab>

        <!-- Future: Genera -->
        <Tab Title="Genera" IsEnabled="False">
            <ShellContent Title="Genera" 
                         Icon="genus.png" 
                         Route="genera" />
        </Tab>

        <!-- Future: Species -->
        <Tab Title="Species" IsEnabled="False">
            <ShellContent Title="Species" 
                         Icon="species.png" 
                         Route="species" />
        </Tab>
    </FlyoutItem>

    <!-- Plants Management Section -->
    <FlyoutItem Title="My Plants" Icon="plant_collection.png" IsEnabled="False">
        <ShellContent Route="plants" />
    </FlyoutItem>

    <!-- Analytics Section -->
    <FlyoutItem Title="Analytics" Icon="analytics.png" IsEnabled="False">
        <ShellContent Route="analytics" />
    </FlyoutItem>

    <!-- Settings Section -->
    <FlyoutItem Title="Settings" Icon="settings.png" IsEnabled="False">
        <ShellContent Route="settings" />
    </FlyoutItem>

    <!-- âœ… DEBUG: Test Sync Page -->
    <FlyoutItem Title="ðŸ§ª Test Sync" Icon="debug.png" FlyoutDisplayOptions="AsMultipleItems">
        <ShellContent Title="Test Sync" 
                     Route="testsync" 
                     ContentTemplate="{DataTemplate pages:TestSyncPage}" />
    </FlyoutItem>

</Shell>