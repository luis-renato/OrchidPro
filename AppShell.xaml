<?xml version="1.0" encoding="UTF-8" ?>
<!--
OrchidPro Application Shell - Enterprise Navigation Architecture

ARCHITECTURE:
- Flyout-based navigation pattern for hierarchical content organization
- DataTemplate-driven content resolution for optimal memory management
- Route-based deep linking system for external navigation integration
- Branded header/footer design with dynamic versioning information

NAVIGATION HIERARCHY:
1. Dashboard: Main application entry point with overview functionality
2. Botanical Data: Core data management with taxonomic organization (Species â†’ Genera â†’ Families)
3. My Plants: Personal collection management (future feature)
4. Analytics: Data visualization and reporting (future feature)  
5. Settings: Application configuration (future feature)

DESIGN PATTERNS:
- Shell.FlyoutHeader: Branded application identity with logo and description
- Shell.FlyoutFooter: User actions (logout) and application metadata
- FlyoutItem/Tab Structure: Logical grouping of related functionality
- ContentTemplate: Lazy loading for optimal performance and memory usage

PERFORMANCE OPTIMIZATIONS:
- DataTemplate lazy instantiation prevents unnecessary page creation
- Route-based navigation enables efficient deep linking
- Disabled items for future features prevent premature resource allocation
- Hierarchical organization reduces cognitive load and improves UX

ENTERPRISE FEATURES:
- Dynamic version display for deployment tracking
- Branded logout functionality with security considerations
- Icon-based navigation for international accessibility
- Future-ready structure with disabled placeholder items
-->
<Shell
    x:Class="OrchidPro.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:OrchidPro"
    xmlns:pages="clr-namespace:OrchidPro.Views.Pages"
    Title="OrchidPro"
    FlyoutBehavior="Flyout">

    <!-- 
    BRANDED APPLICATION HEADER
    Professional identity presentation with consistent Primary theming.
    Provides visual application context and branding reinforcement.
    Uses VerticalStackLayout for optimal layout performance.
    -->
    <Shell.FlyoutHeader>
        <Grid BackgroundColor="{StaticResource Primary}" HeightRequest="150">
            <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="10">
                <!-- Application logo with standardized sizing -->
                <Image Source="orchid_logo.png" 
                       HeightRequest="60" 
                       WidthRequest="60" />

                <!-- Primary application title with brand typography -->
                <Label Text="OrchidPro" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="{StaticResource OnPrimary}" 
                       HorizontalOptions="Center" />

                <!-- Descriptive subtitle with subtle opacity for hierarchy -->
                <Label Text="Botanical Management System" 
                       FontSize="12" 
                       TextColor="{StaticResource OnPrimary}" 
                       Opacity="0.8"
                       HorizontalOptions="Center" />
            </VerticalStackLayout>
        </Grid>
    </Shell.FlyoutHeader>

    <!-- 
    ENTERPRISE FOOTER SYSTEM
    Combines user actions, security controls, and application metadata.
    Implements logout functionality with visual hierarchy.
    Displays dynamic versioning for deployment tracking and support.
    -->
    <Shell.FlyoutFooter>
        <VerticalStackLayout BackgroundColor="{StaticResource Surface}" 
                             Padding="0" 
                             Spacing="0">

            <!-- Visual separator for content organization -->
            <BoxView HeightRequest="1" 
                     BackgroundColor="{StaticResource Gray200}"
                     Opacity="0.3" />

            <!-- 
            LOGOUT CONTROL SYSTEM
            Implements secure user session termination with visual feedback.
            Uses TapGestureRecognizer for consistent touch interaction.
            ErrorColor theming indicates destructive action nature.
            -->
            <Grid BackgroundColor="Transparent"
                  Padding="20,16"
                  ColumnDefinitions="Auto,*"
                  ColumnSpacing="16">

                <Grid.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnLogoutClicked" />
                </Grid.GestureRecognizers>

                <!-- Emoji icon for universal recognition -->
                <Label Grid.Column="0"
                       Text="ðŸšª"
                       FontSize="18"
                       VerticalOptions="Center" />

                <!-- Logout action text with error color for destructive action indication -->
                <Label Grid.Column="1"
                       Text="Sign Out"
                       FontSize="16"
                       FontFamily="OpenSansRegular"
                       TextColor="{StaticResource ErrorColor}"
                       VerticalOptions="Center" />

            </Grid>

            <!-- Content separator for visual organization -->
            <BoxView HeightRequest="1" 
                     BackgroundColor="{StaticResource Gray200}"
                     Opacity="0.2" />

            <!-- 
            DYNAMIC APPLICATION METADATA DISPLAY
            Provides deployment tracking, version identification, and branding.
            Labels populated programmatically from AppSettings configuration.
            Hierarchical typography with decreasing emphasis for information priority.
            -->
            <VerticalStackLayout Spacing="4"
                                 HorizontalOptions="Center"
                                 Padding="20,12,20,16">

                <!-- Primary version information populated at runtime -->
                <Label x:Name="VersionLabel"
                       FontSize="11"
                       FontFamily="OpenSansRegular"
                       FontAttributes="Bold"
                       TextColor="{StaticResource Gray600}"
                       HorizontalOptions="Center" />

                <!-- Secondary build information for technical support -->
                <Label x:Name="BuildLabel"
                       FontSize="10"
                       FontFamily="OpenSansRegular"
                       TextColor="{StaticResource Gray500}"
                       HorizontalOptions="Center" />

                <!-- Brand messaging with emoji for emotional connection -->
                <Label Text="ðŸŒº Made with â™¥ for orchid lovers"
                       FontSize="9"
                       FontFamily="OpenSansRegular"
                       TextColor="{StaticResource Gray400}"
                       HorizontalOptions="Center"
                       Margin="0,4,0,0" />

            </VerticalStackLayout>

        </VerticalStackLayout>
    </Shell.FlyoutFooter>

    <!-- 
    PRIMARY NAVIGATION: DASHBOARD
    Application entry point providing overview and quick access functionality.
    Uses DataTemplate for lazy instantiation and optimal memory management.
    -->
    <FlyoutItem Title="Dashboard" Icon="home.png">
        <ShellContent Route="MainPage" ContentTemplate="{DataTemplate local:MainPage}" />
    </FlyoutItem>

    <!-- 
    BOTANICAL DATA MANAGEMENT SECTION
    Core application functionality organized by taxonomic hierarchy.
    Implements Tab structure for related data entity management.
    Uses reverse taxonomic order (Species â†’ Genera â†’ Families â†’ Variants) for workflow optimization.
    -->
    <FlyoutItem Title="Botanical Data" Icon="plant.png">

        <!-- 
        SPECIES MANAGEMENT TAB
        Detailed plant species data entry and management.
        Most granular level of taxonomic classification.
        Primary user interaction point for botanical records.
        -->
        <Tab Title="Species">
            <ShellContent Title="Species" 
                         Icon="species.png" 
                         Route="species" 
                         ContentTemplate="{DataTemplate pages:SpeciesListPage}" />
        </Tab>

        <!-- 
        GENERA MANAGEMENT TAB  
        Plant genus classification and organizational structure.
        Intermediate taxonomic level between species and families.
        Enables hierarchical data relationships and validation.
        -->
        <Tab Title="Genera">
            <ShellContent Title="Genera" 
                         Icon="genus.png" 
                         Route="genera" 
                         ContentTemplate="{DataTemplate pages:GeneraListPage}" />
        </Tab>

        <!-- 
        FAMILIES MANAGEMENT TAB
        High-level taxonomic classification system.
        Foundational data structure for genus and species organization.
        Implements comprehensive CRUD operations with validation.
        -->
        <Tab Title="Families">
            <ShellContent Title="Families" 
                         Icon="family.png" 
                         Route="families" 
                         ContentTemplate="{DataTemplate pages:FamiliesListPage}" />
        </Tab>

        <!-- 
        VARIANTS MANAGEMENT TAB
        Independent plant variant classification system.
        Color patterns, forms, and variations applicable to any plant.
        Enables flexible variant categorization across all taxonomic levels.
        -->
        <Tab Title="Variants">
            <ShellContent Title="Variants" 
                         Icon="variant.png" 
                         Route="variants" 
                         ContentTemplate="{DataTemplate pages:VariantsListPage}" />
        </Tab>

    </FlyoutItem>

    <!-- 
    PERSONAL COLLECTION MANAGEMENT
    Future feature for individual plant tracking and care management.
    Disabled state prevents premature user access while maintaining navigation structure.
    Placeholder for personal orchid collection functionality.
    -->
    <FlyoutItem Title="My Plants" Icon="plant_collection.png" IsEnabled="False">
        <ShellContent Route="plants" />
    </FlyoutItem>

    <!-- 
    ANALYTICS AND REPORTING SECTION
    Future feature for data visualization and business intelligence.
    Disabled state maintains application roadmap visibility.
    Planned functionality: charts, trends, collection statistics.
    -->
    <FlyoutItem Title="Analytics" Icon="analytics.png" IsEnabled="False">
        <ShellContent Route="analytics" />
    </FlyoutItem>

    <!-- 
    APPLICATION CONFIGURATION SECTION
    Future feature for user preferences and application settings.
    Disabled state preserves navigation hierarchy for future implementation.
    Planned functionality: themes, notifications, data sync preferences.
    -->
    <FlyoutItem Title="Settings" Icon="settings.png" IsEnabled="False">
        <ShellContent Route="settings" />
    </FlyoutItem>

</Shell>