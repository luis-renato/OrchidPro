<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="OrchidPro.MainPage"
             Title="Home"
             BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
             Shell.NavBarIsVisible="True"
             Shell.BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
             Shell.ForegroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource White}}"
             Shell.TitleColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource White}}"
             xmlns:mct="clr-namespace:CommunityToolkit.Maui.Behaviors;assembly=CommunityToolkit.Maui"
             xmlns:local="clr-namespace:OrchidPro">

    <!-- Status bar configuration with app theme support -->
    <Page.Behaviors>
        <mct:StatusBarBehavior StatusBarColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" 
                               StatusBarStyle="LightContent" />
    </Page.Behaviors>

    <!-- Main scrollable content container -->
    <ScrollView>
        <!-- Content card with rounded corners and shadow effect -->
        <Border BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Gray950}}"
                Stroke="Transparent"
                StrokeThickness="0"
                Margin="10,20,10,10"
                Padding="0">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="16" />
            </Border.StrokeShape>

            <!-- Add subtle shadow effect -->
            <Border.Shadow>
                <Shadow Brush="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource Black}}"
                        Opacity="0.1"
                        Radius="8"
                        Offset="0,2" />
            </Border.Shadow>

            <VerticalStackLayout Padding="20,15,20,25" Spacing="35" x:DataType="local:MainPage">

                <!-- Header section with branding and welcome message -->
                <VerticalStackLayout Spacing="12">
                    <!-- Logo com gradiente visual -->
                    <Border BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
                            Padding="20,15"
                            HorizontalOptions="Center">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="25" />
                        </Border.StrokeShape>
                        <Label Text="🌿 OrchidPro"
                               FontSize="28"
                               FontAttributes="Bold"
                               TextColor="{StaticResource OnPrimary}"
                               HorizontalOptions="Center" />
                    </Border>

                    <!-- Welcome message with hierarchy -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Welcome to OrchidPro!"
                               FontSize="22"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={StaticResource OnSurface}, Dark={StaticResource White}}"
                               HorizontalOptions="Center" />

                        <Label Text="Professional botanical data management system"
                               FontSize="15"
                               TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray400}}"
                               HorizontalOptions="Center"
                               HorizontalTextAlignment="Center" />
                    </VerticalStackLayout>
                </VerticalStackLayout>

                <!-- Botanical Data Management - 4 principais funcionalidades -->
                <VerticalStackLayout Spacing="18">
                    <!-- Section title -->
                    <Label Text="Botanical Data Management"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource White}}"
                           HorizontalOptions="Start" />

                    <!-- Action buttons grid - 2x2 para as 4 entidades -->
                    <Grid ColumnDefinitions="*,*" 
                          RowDefinitions="Auto,Auto" 
                          ColumnSpacing="15" 
                          RowSpacing="15">

                        <!-- Families button -->
                        <Border Grid.Row="0" Grid.Column="0"
                                BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
                                Padding="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnFamiliesClicked" />
                            </Border.GestureRecognizers>

                            <VerticalStackLayout Spacing="8" Padding="20,18">
                                <Label Text="🏛️"
                                       FontSize="32"
                                       HorizontalOptions="Center" />
                                <Label Text="Families"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource OnPrimary}"
                                       HorizontalOptions="Center" />
                                <Label Text="1 family"
                                       FontSize="12"
                                       TextColor="{StaticResource OnPrimary}"
                                       Opacity="0.8"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Border>

                        <!-- Genera button -->
                        <Border Grid.Row="0" Grid.Column="1"
                                BackgroundColor="{AppThemeBinding Light={StaticResource Secondary}, Dark={StaticResource Gray700}}"
                                Padding="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnGeneraClicked" />
                            </Border.GestureRecognizers>

                            <VerticalStackLayout Spacing="8" Padding="20,18">
                                <Label Text="🌳"
                                       FontSize="32"
                                       HorizontalOptions="Center" />
                                <Label Text="Genera"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource OnPrimary}"
                                       HorizontalOptions="Center" />
                                <Label Text="76 genera"
                                       FontSize="12"
                                       TextColor="{StaticResource OnPrimary}"
                                       Opacity="0.8"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Border>

                        <!-- Species button -->
                        <Border Grid.Row="1" Grid.Column="0"
                                BackgroundColor="{AppThemeBinding Light={StaticResource InfoColor}, Dark={StaticResource Gray600}}"
                                Padding="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnSpeciesClicked" />
                            </Border.GestureRecognizers>

                            <VerticalStackLayout Spacing="8" Padding="20,18">
                                <Label Text="🌸"
                                       FontSize="32"
                                       HorizontalOptions="Center" />
                                <Label Text="Species"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource OnPrimary}"
                                       HorizontalOptions="Center" />
                                <Label Text="261 species"
                                       FontSize="12"
                                       TextColor="{StaticResource OnPrimary}"
                                       Opacity="0.8"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Border>

                        <!-- Variants button -->
                        <Border Grid.Row="1" Grid.Column="1"
                                BackgroundColor="{AppThemeBinding Light={StaticResource Tertiary}, Dark={StaticResource Gray500}}"
                                Padding="0">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnVariantsClicked" />
                            </Border.GestureRecognizers>

                            <VerticalStackLayout Spacing="8" Padding="20,18">
                                <Label Text="🌺"
                                       FontSize="32"
                                       HorizontalOptions="Center" />
                                <Label Text="Variants"
                                       FontSize="16"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource OnPrimary}"
                                       HorizontalOptions="Center" />
                                <Label Text="20 variants"
                                       FontSize="12"
                                       TextColor="{StaticResource OnPrimary}"
                                       Opacity="0.8"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Border>
                    </Grid>
                </VerticalStackLayout>

                <!-- System Overview com design melhorado -->
                <VerticalStackLayout Spacing="18">
                    <!-- Header with icon -->
                    <HorizontalStackLayout Spacing="10">
                        <Border BackgroundColor="{AppThemeBinding Light={StaticResource SuccessColor}, Dark={StaticResource SuccessColor}}"
                                Padding="8"
                                VerticalOptions="Center">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="8" />
                            </Border.StrokeShape>
                            <Label Text="📊" FontSize="18" TextColor="White" />
                        </Border>
                        <Label Text="System Overview"
                               FontSize="20"
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource White}}"
                               VerticalOptions="Center" />
                    </HorizontalStackLayout>

                    <!-- Statistics cards with improved design -->
                    <Grid ColumnDefinitions="*,*,*" ColumnSpacing="12">
                        <!-- Total card -->
                        <Border Grid.Column="0"
                                BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
                                Padding="16,20">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <VerticalStackLayout Spacing="6" HorizontalOptions="Center">
                                <Label Text="📋"
                                       FontSize="24"
                                       HorizontalOptions="Center" />
                                <Label Text="{Binding TotalOrchidCount}"
                                       FontSize="28"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource OnPrimary}"
                                       HorizontalOptions="Center" />
                                <Label Text="Total Items"
                                       FontSize="11"
                                       TextColor="{StaticResource OnPrimary}"
                                       Opacity="0.9"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Border>

                        <!-- Active card -->
                        <Border Grid.Column="1"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SuccessColor}, Dark={StaticResource SuccessColor}}"
                                Padding="16,20">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <VerticalStackLayout Spacing="6" HorizontalOptions="Center">
                                <Label Text="✅"
                                       FontSize="24"
                                       HorizontalOptions="Center" />
                                <Label Text="{Binding HealthyOrchidCount}"
                                       FontSize="28"
                                       FontAttributes="Bold"
                                       TextColor="White"
                                       HorizontalOptions="Center" />
                                <Label Text="Active"
                                       FontSize="11"
                                       TextColor="White"
                                       Opacity="0.9"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Border>

                        <!-- Favorites card -->
                        <Border Grid.Column="2"
                                BackgroundColor="{AppThemeBinding Light={StaticResource WarningColor}, Dark={StaticResource WarningColor}}"
                                Padding="16,20">
                            <Border.StrokeShape>
                                <RoundRectangle CornerRadius="12" />
                            </Border.StrokeShape>
                            <VerticalStackLayout Spacing="6" HorizontalOptions="Center">
                                <Label Text="⭐"
                                       FontSize="24"
                                       HorizontalOptions="Center" />
                                <Label Text="{Binding AttentionNeededCount}"
                                       FontSize="28"
                                       FontAttributes="Bold"
                                       TextColor="White"
                                       HorizontalOptions="Center" />
                                <Label Text="Favorites"
                                       FontSize="11"
                                       TextColor="White"
                                       Opacity="0.9"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </Border>
                    </Grid>
                </VerticalStackLayout>

            </VerticalStackLayout>
        </Border>
    </ScrollView>

</ContentPage>